# OctoGen Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# REQUIRED - Navidrome Server
# ============================================================================
NAVIDROME_URL=http://192.168.1.100:4533
NAVIDROME_USER=admin
NAVIDROME_PASSWORD=your_navidrome_password

# ============================================================================
# REQUIRED - Octo-Fiesta Server (for downloads)
# ============================================================================
OCTOFIESTA_URL=http://192.168.1.100:5274

# ============================================================================
# OPTIONAL - AI Provider (LLM-based recommendations)
# ============================================================================
# At least one music source must be configured:
# AI_API_KEY, AudioMuse-AI, Last.fm, or ListenBrainz
# Get Gemini API key (free): https://aistudio.google.com/apikey
AI_API_KEY=your_gemini_api_key_here

# AI Model - Default is Gemini 2.5 Flash (recommended)
AI_MODEL=gemini-2.5-flash

# AI Backend - Options: gemini, openai
AI_BACKEND=gemini

# ============================================================================
# OPTIONAL - Alternative AI Providers
# ============================================================================

# For Groq (fast, free tier available)
# AI_BACKEND=openai
# AI_BASE_URL=https://api.groq.com/openai/v1
# AI_MODEL=llama-3.3-70b-versatile
# AI_API_KEY=your_groq_api_key

# For OpenAI (official)
# AI_BACKEND=openai
# AI_MODEL=gpt-4o
# AI_API_KEY=your_openai_api_key

# For Ollama (local, offline)
# AI_BACKEND=openai
# AI_BASE_URL=http://host.docker.internal:11434/v1
# AI_MODEL=llama3.2
# AI_API_KEY=ollama

# For OpenRouter (100+ models)
# AI_BACKEND=openai
# AI_BASE_URL=https://openrouter.ai/api/v1
# AI_MODEL=anthropic/claude-3.5-sonnet
# AI_API_KEY=your_openrouter_api_key

# ============================================================================
# OPTIONAL - Last.fm Integration
# ============================================================================
LASTFM_ENABLED=false
LASTFM_API_KEY=your_lastfm_api_key
LASTFM_USERNAME=your_lastfm_username

# ============================================================================
# OPTIONAL - ListenBrainz Integration
# ============================================================================
LISTENBRAINZ_ENABLED=false
LISTENBRAINZ_USERNAME=your_listenbrainz_username
LISTENBRAINZ_TOKEN=your_listenbrainz_token

# ============================================================================
# OPTIONAL - Performance Tuning
# ============================================================================
# Album batch size for library scanning
PERF_ALBUM_BATCH_SIZE=500

# Maximum albums to scan (prevents timeouts on huge libraries)
PERF_MAX_ALBUMS_SCAN=10000

# Scan timeout in seconds
PERF_SCAN_TIMEOUT=60

# Delay between downloads (seconds) - prevents overwhelming Octo-Fiesta
PERF_DOWNLOAD_DELAY=6

# Delay after Navidrome scan completes (seconds)
PERF_POST_SCAN_DELAY=2

# ============================================================================
# OPTIONAL - AI Configuration
# ============================================================================
# Maximum songs to include in AI context (memory optimization)
AI_MAX_CONTEXT_SONGS=500

# Maximum output tokens for AI response
AI_MAX_OUTPUT_TOKENS=65535

# ============================================================================
# OPTIONAL - Monitoring and Metrics
# ============================================================================
# Enable Prometheus metrics collection (default: true)
METRICS_ENABLED=true

# Port for Prometheus metrics HTTP server
METRICS_PORT=9090

# Number of failures before opening circuit breaker
CIRCUIT_BREAKER_THRESHOLD=5

# Seconds to wait before attempting recovery
CIRCUIT_BREAKER_TIMEOUT=60

# ============================================================================
# OPTIONAL - Web UI Dashboard
# ============================================================================
# Enable web-based monitoring dashboard (default: false)
WEB_UI_ENABLED=false

# Port for web UI HTTP server
WEB_UI_PORT=5000

# ============================================================================
# OPTIONAL - Batch Processing
# ============================================================================
# Number of songs to download per batch
DOWNLOAD_BATCH_SIZE=5

# Maximum concurrent downloads
DOWNLOAD_CONCURRENCY=3

# ============================================================================
# OPTIONAL - Logging Configuration
# ============================================================================
# Log output format: text or json (default: text)
LOG_FORMAT=text

# Show progress indicators in terminal (default: true)
SHOW_PROGRESS=true

# ============================================================================
# OPTIONAL - Playlist Templates
# ============================================================================
# Path to custom playlist templates YAML file
PLAYLIST_TEMPLATES_FILE=/config/playlist_templates.yaml

# ============================================================================
# OPTIONAL - Logging
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# ============================================================================
# OPTIONAL - AudioMuse-AI Integration
# ============================================================================
# AudioMuse-AI Integration (Optional - for sonic analysis-based recommendations)
AUDIOMUSE_ENABLED=false
AUDIOMUSE_URL=http://localhost:8000
AUDIOMUSE_AI_PROVIDER=gemini
AUDIOMUSE_AI_MODEL=gemini-2.5-flash
AUDIOMUSE_AI_API_KEY=
AUDIOMUSE_SONGS_PER_MIX=25
LLM_SONGS_PER_MIX=5

# ============================================================================
# DOCKER - Data Directory
# ============================================================================
# Where to store logs, cache, and database (inside container)
# Usually you don't need to change this
OCTOGEN_DATA_DIR=/data
